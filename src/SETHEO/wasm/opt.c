/*#########################################################################
# File:			opt.c
# SCCS-Info:		10/30/91, @(#)opt.c	1.2
# Author:		J. Schumann
# Date:			11.08.88
# Context:		wasm (SETHEO)
#
# Contents:		interface between wasm and the optimiser	
#
# Modifications:
#	(when)		(who)		(what)
#	23.10.91	Max Moser	`restyled'
#	28.9.92		jsc
#
# Bugs:
#
# --- Forschungsgruppe KI, Inst. fuer Informatik, TU Muenchen ---
#########################################################################*/



#include <stdio.h>
#include "wasm.h"		/* wasm configuration		 	 */


/**************************************************************************
* declarations and definitions
**************************************************************************/




/**************************************************************************
* code
**************************************************************************/



/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ pnam
+ -
+
+ special remarks:
+ - ???
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

void   pnam (val, tag)
    int             val,	/* ???					 */
                    tag;	/* ???					 */

{ /*=====================================================================*/
/*-----------------------------------------------------------------------*/

#ifdef DEBUG
    printf ("***********Pnam: %d %d\n", val, tag);
    if (tag == UNDEF)
	syprint (val);
    else
	printf ("Value: %d\n", val);
    fflush (stdout);
#endif

    pdef (val, curr_pc);

} /*=====================================================================*/





/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ plab
+ - ???
+
+ special remarks:
+ - ???
+ - <side effects, return values>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

void  plab (val, tag)
    int             val,	/* ???					 */
                    tag;	/* ???					 */

{ /*=====================================================================*/
/*-----------------------------------------------------------------------*/

#ifdef DEBUG
    printf ("***********Plab: %d %d\n", val, tag);
    if (tag == UNDEF)
	syprint (val);
    else
	printf ("Value: %d\n", val);
    fflush (stdout);
#endif

    put_tag_word (curr_pc++, val, tag, 0);

} /*=====================================================================*/





/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ optim_out
+ - ???
+
+ special remarks:
+ - <e.g. called from>
+ - <side effects, return values>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

void  optim_out ()
{ /*=====================================================================*/
/*-----------------------------------------------------------------------*/

#ifdef DEBUG
    printf ("printing dtree\n");
    fflush (stdout);
#endif

    print_dtree (pnam, plab);

#ifdef DEBUG
    printf ("dtree printed \n");
    fflush (stdout);
#endif

} /*=====================================================================*/





/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ enter_opt
+ - <informelle beschreibung>
+
+ special remarks:
+ - <e.g. called from>
+ - <side effects, return values>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

void  enter_opt (val, tag)
    int             val,	/* ???					 */
                    tag;	/* ???					 */

{ /*=====================================================================*/
/*-----------------------------------------------------------------------*/

    enter_o_list (val, tag);

} /*=====================================================================*/




/*#######################################################################*/
